{%- macro card(title, image, type, url=None, text_primary=False) -%}
<!-- style defined at shop-by-category index -->
<div class="card category-card text-center" data-type="{{ type }}" data-name="{{ title }}">
	{% if image %}
	<div class="card-body">
		<h3 class="card-title mt-0" style="font-size: 1rem;">{{ title or '' }}</h3>
		<p class="card-text mb-5 text-center"><img loading="lazy" src="{{ image }}" alt="{{ title }}" height="50%" width="80%"></p>
	</div>
	{% else %}
	<h3 class="card-title mt-0" style="font-size: 1rem;">{{ title or '' }}</h3>
	<div class="placeholder-div">
		<span class="placeholder">
			{{ frappe.utils.get_abbr(title) }}
		</span>
	</div>
	{% endif %}
	<a href="{{ url or '#' }}" class="stretched-link"></a>
</div>
{%- endmacro -%}

<div class=" item-card-group-section">
	<div class="row products-list product-category-section">
		{%- for row in data -%}
			<div class="col-sm-4 col-xs-12 col-md-3">
			{%- set title = row.name -%}
			{%- set image = row.get("image") -%}
			{%- if title -%}
				{{ card(title, image, type, row.get("route")) }}
			{%- endif -%}
			</div>
		{%- endfor -%}
	</div>
</div>