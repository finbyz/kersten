<!DOCTYPE html>
<!-- Built on Frappe. https://frappeframework.com/ -->
<html lang="{{boot.lang}}">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="frappe">

	{% block meta_block %}
		{% include "templates/includes/meta_block.html" %}
	{% endblock %}

	<title>{% block title %}{{ title | striptags }}{% endblock %}</title>

	{% block favicon %}
	<link
		rel="shortcut icon"
		href="{{ (favicon or "/assets/frappe/images/frappe-favicon.svg") | abs_url }}"
		type="image/x-icon"
	>
	{% endblock %}
    {% if doctype in ("Website Itemgroup","Website Item") %}
	{% if doc.faq_group %}
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "FAQPage",
          "mainEntity": [{% for i in doc.faq_group %}{% set group = frappe.get_doc("FAQ Groups",i.faq_group_item)%}{% for row in group.faq_questions %}{% set faq = frappe.get_doc("FAQ",row.question)%}
          {
            "@type": "Question",
            "name": "{{faq.question}}",
            "acceptedAnswer": {
              "@type": "Answer",
              "text": "{{faq.answer |striptags}}"
            }
          }{% if not loop.last %},{% endif %}{% endfor %}{% if not loop.last %},{% endif %}{% endfor %}]
        }
        </script>
		{% endif %}
    {% endif %}
	
	{% if doctype == "Website Item" %}
	{% if shopping_cart and shopping_cart.cart_settings.enabled %}
	{% set cart_settings = shopping_cart.cart_settings %}
	{% set product_info = shopping_cart.product_info %}
	{% if cart_settings.show_price and product_info.price %}
			{% set price_info = product_info.price %}
	<script type="application/ld+json">
		{
			"@context": "https://schema.org",
			"@type": "Product",
			"name": "{{ doc.web_item_name }}",
			"image": "{% if doc.website_image %}{{"https://kerstenuk.com" +  doc.website_image }}{% else %}{{"https://kerstenuk.com" +  "/files/Logo-kersten-vettore-700px (3).webp"}}{% endif %}",
			"description": "{{ doc.web_long_description | striptags or doc.description | striptags }}",
			"sku": "{{ doc.item_code }}",
			"offers": {
				"@type": "Offer",
				"priceCurrency": "{{ price_info.currency }}",
				"price": "{{ price_info.price_list_rate }}",
				"availability": "https://schema.org/InStock",
				"url": "https://kerstenuk.com/{{doc.route}}"
			}
		}
		{% endif %}
		{% endif %}
	</script>
	{% endif %}
	
	{% if doctype in ("Website Itemgroup","Website Item") %}
	{% if doc.page_building_blocks %}
	{% for row in doc.page_building_blocks %}
	{% if row.web_template == "Blogs" %}
	{%- set blogslist = frappe.get_doc('Blogs', blog) -%}
	{%- set blog = blogslist.blog_list -%}
	<script type="application/ld+json">	
		{
		  "@context": "https://schema.org",
		  "@type": "BlogPosting",
		  "headline": "{{blogslist.blog_title}}",
		  "image":"{% for row in blog %}
		  		{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}
				{% if blogpost.custom_image %}
				{{"https://test.kerstenuk.com" +  blogpost.custom_image }}
				{% else %}
				{{"https://test.kerstenuk.com" +  "/files/Logo-kersten-vettore-700px (3).webp"}}{% endif %}{% if not loop.last %},{% endif %}
				{% endfor %}",
		  "datePublished": "{{blogslist.creation}}",
		  "dateModified": "{{blogslist.modified}}",
		  "author": [{% for row in blog %}
		  			{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}{
			  "@type": "Person",
			  "name": "{{blogpost.blogger}}",
			  "url": "https://test.kerstenuk.com/{{blogpost.route}}"
			}{% if not loop.last %},{% endif %}
			{% endfor %}]
		}
		</script>
	{% endif %}
	{% endfor %}
	{% endif %}
	{% if doc.page_building_block %}
	{% for row in doc.page_building_block %}
	{% if row.web_template == "Blogs" %}
	{%- set blogslist = frappe.get_doc('Blogs', blog) -%}
	{%- set blog = blogslist.blog_list -%}
	<script type="application/ld+json">	
		{
		  "@context": "https://schema.org",
		  "@type": "BlogPosting",
		  "headline": "{{blogslist.blog_title}}",
		  "image":"{% for row in blog %}
		  		{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}
				{% if blogpost.custom_image %}
				{{"https://test.kerstenuk.com" +  blogpost.custom_image }}
				{% else %}
				{{"https://test.kerstenuk.com" +  "/files/Logo-kersten-vettore-700px (3).webp"}}{% endif %}{% if not loop.last %},{% endif %}
				{% endfor %}",
		  "datePublished": "{{blogslist.creation}}",
		  "dateModified": "{{blogslist.modified}}",
		  "author": [{% for row in blog %}
		  			{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}{
			  "@type": "Person",
			  "name": "{{blogpost.blogger}}",
			  "url": "https://test.kerstenuk.com/{{blogpost.route}}"
			}{% if not loop.last %},{% endif %}
			{% endfor %}]
		}
		</script>
	{% endif %}
	{% endfor %}
	{% endif %}
	{% if doc.page_blocks %}
	{% for row in doc.page_blocks %}
	{% if row.web_template == "Blogs" %}
	{%- set blogslist = frappe.get_doc('Blogs', blog) -%}
	{%- set blog = blogslist.blog_list -%}
	<script type="application/ld+json">	
		{
		  "@context": "https://schema.org",
		  "@type": "BlogPosting",
		  "headline": "{{blogslist.blog_title}}",
		  "image":"{% for row in blog %}
		  		{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}
				{% if blogpost.custom_image %}
				{{"https://test.kerstenuk.com" +  blogpost.custom_image }}
				{% else %}
				{{"https://test.kerstenuk.com" +  "/files/Logo-kersten-vettore-700px (3).webp"}}{% endif %}{% if not loop.last %},{% endif %}
				{% endfor %}",
		  "datePublished": "{{blogslist.creation}}",
		  "dateModified": "{{blogslist.modified}}",
		  "author": [{% for row in blog %}
		  			{%- set blogpost = frappe.get_doc("Blog Post", row.blog) -%}{
			  "@type": "Person",
			  "name": "{{blogpost.blogger}}",
			  "url": "https://test.kerstenuk.com/{{blogpost.route}}"
			}{% if not loop.last %},{% endif %}
			{% endfor %}]
		}
		</script>
	{% endif %}
	{% endfor %}
	{% endif %}
	{% endif %}


	{%- block head -%}
		{% include "templates/includes/head.html" %}
	{%- endblock -%}

	{%- block head_include %}
		{{ head_include or "" }}
	{% endblock -%}

	{%- block style %}
		{% if colocated_css -%}
			<style>{{ colocated_css }}</style>
		{%- endif %}
	{%- endblock -%}
    
	<script>
		window.frappe = {};
		frappe.ready_events = [];
		frappe.ready = function(fn) {
			frappe.ready_events.push(fn);
		}
		window.dev_server = {{ dev_server }};
		window.socketio_port = {{ (frappe.socketio_port or 9000) }};
		window.show_language_picker = {{ show_language_picker or 'false' }};
	</script>
</head>
<body frappe-session-status="{{ 'logged-in' if frappe.session.user != 'Guest' else 'logged-out'}}" data-path="{{ path | e }}" {%- if template and template.endswith('.md') %} frappe-content-type="markdown" {%- endif %} class="{{ body_class or ''}}">
	{% include "public/icons/timeless/icons.svg" %}
	{% include "public/icons/espresso/icons.svg" %}
	{%- block banner -%}
		{% include "templates/includes/banner_extension.html" ignore missing %}

		{% if banner_html -%}
		{{ banner_html or "" }}
		{%- endif %}
	{%- endblock -%}

	{%- block navbar -%}
		{{ web_block(
			navbar_template or 'Standard Navbar',
			values=_context_dict,
			add_container=0,
			add_top_padding=0,
			add_bottom_padding=0,
		) }}
	{%- endblock -%}

	{% block content %}
		{{ content }}
	{% endblock %}

	{%- block footer -%}
		{{ web_block(
			footer_template or 'Standard Footer',
			values=_context_dict,
			add_container=0,
			add_top_padding=0,
			add_bottom_padding=0
		) }}
	{%- endblock -%}

	{% block base_scripts %}
	<!-- js should be loaded in body! -->
	<script>
		frappe.boot = {{ boot }}
		// for backward compatibility of some libs
		frappe.sys_defaults = frappe.boot.sysdefaults;
	</script>
	{{ include_script('frappe-web.bundle.js') }}
	{% endblock %}

	{%- for link in web_include_js %}
	{{ include_script(link) }}
	{%- endfor -%}

	{%- block script %}
		{% if colocated_js -%}
			<script>{{ colocated_js }}</script>
		{%- endif %}
	{%- endblock %}
	<!-- csrf_token -->
	{%- block body_include %}{{ body_include or "" }}{% endblock -%}
</body>
</html>
